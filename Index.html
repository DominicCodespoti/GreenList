<!DOCTYPE html>
<html>

<body>

  <head>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  </head>

  <h1>Welcome to Green Grocer!</h1>
  <p>Please enter an item: </p>
  Item Name: <input type="text" id="additem">
  <button onclick="addItem()" id="additembutton"></button>
  <table id="table" border="1">

  </table>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script>
    let products = [
      {
        "item": "Toothbrush",
        "suggestion": "Bamboo toothbrush",
        "tips": "Buying a biodegradable bamboo toothbrush means there is one less plastic toothbrush floating around in the ocean or clogging up land fill, but they still need to be disposed of or composted properly for maximum environmental friendliness."
      },
      {
        "item": "Nappies",
        "suggestion": "Reusable cloth"
      },
      {
        "item": "Milk",
        "suggestion": "Glass bottle organic milk"
      },
      {
        "item": "Tea Bags",
        "suggestion": "Twinnings bags"
      },
      {
        "item": "Coffee Pods",
        "suggestion": "Ground coffee"
      },
      {
        "item": "Straws",
        "suggestion": "Paper or metal straws"
      },
      {
        "item": "Eggs",
        "suggestion": "Free range organic eggs"
      },
      {
        "item": "Dishwashing Liquid",
        "suggestion": "Earth Choice brand"
      },
      {
        "item": "Oranges",
        "suggestion": "Buy them loose without the mesh bag"
      },
      {
        "item": "Shampoo and Conditioner",
        "suggestion": "Sukin brand"
      },
      {
        "item": "Toilet Paper",
        "suggestion": "icare brand"
      },
      {
        "item": "Party Cups",
        "suggestion": "Globelet branded biodegradeable cups"
      },
      {
        "item": "Bin Bag",
        "suggestion": "BioBag bag liners"
      },
      {
        "item": "Cling Wrap",
        "suggestion": "Beezewax food wrap"
      },
      {
        "item": "Disposable Cutlery",
        "suggestion": "Ever Eco Bamboo cutlery set"
      }
    ];

    var itemArray = [];
    var iterator = 0;

    function tipAndAlternative(iterator2) {
      var item = searchItem(iterator2).suggestion;
      var tip2 = searchItem(iterator2).tips;
      var markup = '<tr id="tip' + iterator2 + '" ><td onclick=replaceString(' + iterator2 + ')>' + item + '</td><td>' + tip2 + '</td><td><input type="button" onclick=fuckThis(' + iterator2 + ')></td></tr>';
      if ($('#tip' + iterator2).length === 0) {
        $('#item' + iterator2).after(markup);
      }
    }

    function fuckThis(iterator2) {
      $('#tip' + iterator2).find('td:eq(0)').remove();
      $('#tip' + iterator2).find('td:eq(0)').remove();
      $('#tip' + iterator2).find('td:eq(0)').remove();
      $('#tip' + iterator2).remove();
    }

    function replaceString(iterator2) {
      $('#item' + iterator2).find('td:eq(0)').text(searchItem(iterator2).suggestion);
      $('#tip' + iterator2).find('td:eq(0)').remove();
      $('#tip' + iterator2).find('td:eq(0)').remove();
      $('#tip' + iterator2).find('td:eq(0)').remove();
      $('#tip' + iterator2).remove();
    }

    function searchItem(iterator2) {
      var searchValue = $('#item' + iterator2).find('td:eq(0)').html();
      console.log(searchValue);
      for (var i = 0; i < products.length; i++) {
        if (products[i].item == searchValue) {
          return products[i];
        }
      }
    };

    function addItem() {
      var item = document.getElementById("additem").value;
      itemArray.push(item);
      console.log(itemArray);
      var markup = '<tr id="item' + iterator + '"><td onclick=tipAndAlternative(' + iterator + ')>' + item + '</td></tr>';
      $('#table').append(markup)
      iterator++;
    }

  </script>

</body>

</html>
